void 0===gj.datepicker&&(gj.datepicker={plugins:{}}),gj.datepicker.config={base:{weekDays:["S","M","T","W","T","F","S"],showOtherMonths:!1,selectOtherMonths:!0,width:void 0,minDate:void 0,maxDate:void 0,format:"mm/dd/yyyy",uiLibrary:"materialdesign",iconsLibrary:"materialicons",value:void 0,weekStartDay:0,disableDates:void 0,disableDaysOfWeek:void 0,calendarWeeks:!1,keyboardNavigation:!0,locale:"en-us",icons:{rightIcon:'<i class="material-icons">event</i>',previousMonth:'<i class="material-icons">keyboard_arrow_left</i>',nextMonth:'<i class="material-icons">keyboard_arrow_right</i>'},fontSize:void 0,style:{wrapper:"gj-datepicker gj-datepicker-md gj-unselectable",input:"gj-textbox-md",calendar:"gj-calendar gj-calendar-md"}},bootstrap:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},iconsLibrary:"glyphicons",showOtherMonths:!0},bootstrap4:{style:{wrapper:"gj-datepicker gj-datepicker-bootstrap gj-unselectable input-group",input:"form-control",calendar:"gj-calendar gj-calendar-bootstrap"},showOtherMonths:!0},materialicons:{},fontawesome:{icons:{rightIcon:'<span class="input-group-addon"><i class="fa fa-calendar" aria-hidden="true"></i></span>',previousMonth:'<i class="fa fa-chevron-left" aria-hidden="true"></i>',nextMonth:'<i class="fa fa-chevron-right" aria-hidden="true"></i>'}},glyphicons:{icons:{rightIcon:'<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>',previousMonth:'<span class="glyphicon glyphicon-chevron-left"></span>',nextMonth:'<span class="glyphicon glyphicon-chevron-right"></span>'}}},gj.datepicker.methods={init:function(a){return gj.widget.prototype.init.call(this,a,"datepicker"),this.attr("data-datepicker","true"),gj.datepicker.methods.initialize(this),this},initialize:function(a){var b=a.data(),c=a.parent('div[role="wrapper"]'),d="materialdesign"!==b.uiLibrary&&"materialicons"===b.iconsLibrary?$('<span class="input-group-addon">'+b.icons.rightIcon+"</span>"):$(b.icons.rightIcon);d.attr("role","right-icon"),0===c.length?(c=$('<div role="wrapper" />').addClass(b.style.wrapper),a.wrap(c)):c.addClass(b.style.wrapper),c=a.parent('div[role="wrapper"]'),b.width&&c.css("width",b.width),a.val(b.value).addClass(b.style.input).attr("role","input"),b.fontSize&&a.css("font-size",b.fontSize),d.on("click",function(b){$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').is(":visible")?gj.datepicker.methods.hide(a):gj.datepicker.methods.show(a)}),a.on("blur",function(){a.timeout=setTimeout(function(){gj.datepicker.methods.hide(a)},500)}),c.append(d),gj.datepicker.methods.createCalendar(a)},createCalendar:function(a){var b,c=a.data(),d=$('<div role="calendar" />').addClass(c.style.calendar).attr("guid",a.attr("data-guid")),e=$("<table/>"),f=$("<thead/>");for(c.fontSize&&d.css("font-size",c.fontSize),b=gj.core.parseDate(c.value,c.format),!b||isNaN(b.getTime())?b=new Date:a.attr("day",b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()),a.attr("month",b.getMonth()),a.attr("year",b.getFullYear()),$row=$('<tr role="month-manager" />'),$row.append($("<th><div>"+c.icons.previousMonth+"</div></th>").on("click",gj.datepicker.methods.prevMonth(a))),$row.append('<th colspan="5"><div role="month"></div></th>'),$row.append($("<th><div>"+c.icons.nextMonth+"</div></th>").on("click",gj.datepicker.methods.nextMonth(a))),f.append($row),$row=$('<tr role="week-days" />'),i=c.weekStartDay;i<c.weekDays.length;i++)$row.append("<th><div>"+c.weekDays[i]+"</div></th>");for(i=0;i<c.weekStartDay;i++)$row.append("<th><div>"+c.weekDays[i]+"</div></th>");return f.append($row),e.append(f),e.append("<tbody/>"),d.append(e),d.hide(),$("body").append(d),d},renderCalendar:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=a.data(),q=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]'),r=q.children("table"),s=r.children("tbody");for(clearTimeout(a.timeout),a.attr("day")?(c=a.attr("day").split("-"),c=new Date(c[0],c[1],c[2])):c=new Date(void 0),e=parseInt(a.attr("month"),10),f=parseInt(a.attr("year"),10),r.find('thead [role="month"]').text(gj.core.monthNames[e]+" "+f),g=new Array(31,28,31,30,31,30,31,31,30,31,30,31),f%4==0&&1900!=f&&(g[1]=29),h=g[e],i=(new Date(f,e,1).getDay()+7-p.weekStartDay)%7,s.empty(),b=0,$row=$("<tr />"),l=gj.datepicker.methods.getPrevMonth(e,f),j=1;j<=i;j++)d=g[l.month]-i+j,n=l.year===c.getFullYear()&&l.month===c.getMonth()&&d===c.getDate()?$('<td type="selected" />'):$('<td type="other-month" />'),p.showOtherMonths&&(o=$("<div>"+d+"</div>"),n.append(o),p.selectOtherMonths&&gj.datepicker.methods.isSelectable(p,l.year,l.month,d)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,d,l.month,l.year))):n.addClass("disabled")),$row.append(n),b++;for(s.append($row),k=new Date,j=1;j<=h;j++)0==b&&($row=$("<tr>")),n=f===c.getFullYear()&&e===c.getMonth()&&j===c.getDate()?$('<td type="selected" />'):f===k.getFullYear()&&e===k.getMonth()&&j===k.getDate()?$('<td type="today" />'):$('<td type="current-month" />'),o=$("<div>"+j+"</div>"),gj.datepicker.methods.isSelectable(p,f,e,j)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,j,e,f))):n.addClass("disabled"),n.append(o),$row.append(n),7==++b&&(s.append($row),b=0);for(m=gj.datepicker.methods.getNextMonth(e,f),j=1;0!=b;j++)n=m.year===c.getFullYear()&&m.month===c.getMonth()&&j===c.getDate()?$('<td type="selected" />'):$('<td type="other-month" />'),p.showOtherMonths&&(o=$("<div>"+j+"</div>"),n.append(o),p.selectOtherMonths&&gj.datepicker.methods.isSelectable(p,m.year,m.month,j)?(n.addClass("gj-cursor-pointer"),o.on("click",gj.datepicker.methods.select(a,q,j,m.month,m.year))):n.addClass("disabled")),$row.append(n),7==++b&&(s.append($row),b=0)},getMinDate:function(a){var b;return a.minDate&&("string"==typeof a.minDate?b=new Date(a.minDate):"function"==typeof a.minDate?b=a.minDate():"function"==typeof a.minDate.getMonth&&(b=a.minDate)),b},getMaxDate:function(a){var b;return a.maxDate&&("string"==typeof a.maxDate?b=new Date(a.maxDate):"function"==typeof a.maxDate?b=a.maxDate():"function"==typeof a.maxDate.getMonth&&(b=a.maxDate)),b},isSelectable:function(a,b,c,d){var e,f=!0,g=new Date(b,c,d),h=gj.datepicker.methods.getMinDate(a),i=gj.datepicker.methods.getMaxDate(a);if(h&&g<h)f=!1;else if(i&&g>i)f=!1;else if(a.disableDates)if($.isArray(a.disableDates))for(e=0;e<a.disableDates.length;e++)a.disableDates[e]instanceof Date&&a.disableDates[e].getTime()===g.getTime()?f=!1:"string"==typeof a.disableDates[e]&&gj.core.parseDate(a.disableDates[e],a.format).getTime()===g.getTime()&&(f=!1);else a.disableDates instanceof Function&&(f=a.disableDates(g));return f},getPrevMonth:function(a,b){return date=new Date(b,a,1),date.setMonth(date.getMonth()-1),{month:date.getMonth(),year:date.getFullYear()}},getNextMonth:function(a,b){return date=new Date(b,a,1),date.setMonth(date.getMonth()+1),{month:date.getMonth(),year:date.getFullYear()}},prevMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getPrevMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a),a.focus()}},nextMonth:function(a){return function(){var b,c=parseInt(a.attr("month"),10),d=parseInt(a.attr("year"),10);b=gj.datepicker.methods.getNextMonth(c,d),a.attr("month",b.month),a.attr("year",b.year),gj.datepicker.methods.renderCalendar(a),a.focus()}},select:function(a,b,c,d,e){return function(b){var f,g,h=a.data();return f=new Date(e,d,c),g=gj.core.formatDate(f,h.format),a.val(g),gj.datepicker.events.change(a),a.attr("day",e+"-"+d+"-"+c),a.attr("month",d),a.attr("year",e),gj.datepicker.methods.hide(a),a}},show:function(a){var b=(a.data(),a.offset()),c=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]');gj.datepicker.methods.renderCalendar(a),c.css("left",b.left).css("top",b.top+a.outerHeight(!0)+3),c.show(),a.focus(),gj.datepicker.events.show(a)},hide:function(a){$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').hide(),gj.datepicker.events.hide(a)},value:function(a,b){var c,d;return void 0===b?a.val():(d=gj.core.parseDate(b,a.data().format),d?(c=$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]'),gj.datepicker.methods.select(a,c,d.getDate(),d.getMonth(),d.getFullYear())()):a.val(""),a)},destroy:function(a){var b=a.data(),c=a.parent();return b&&(a.off(),$("body").children('[role="calendar"][guid="'+a.attr("data-guid")+'"]').remove(),a.removeData(),a.removeAttr("data-type").removeAttr("data-guid").removeAttr("data-datepicker"),a.removeClass(),c.children('[role="right-icon"]').remove(),a.unwrap()),a}},gj.datepicker.events={change:function(a){return a.triggerHandler("change")},show:function(a){return a.triggerHandler("show")},hide:function(a){return a.triggerHandler("hide")}},gj.datepicker.widget=function(a,b){var c=this,d=gj.datepicker.methods;return c.value=function(a){return d.value(this,a)},c.destroy=function(){return d.destroy(this)},c.show=function(){gj.datepicker.methods.show(this)},c.hide=function(){gj.datepicker.methods.hide(this)},c.disableDates=function(a){},c.disableWeekDay=function(){},c.setMinDate=function(){},c.setMaxDate=function(){},$.extend(a,c),"true"!==a.attr("data-datepicker")&&d.init.call(a,b),a},gj.datepicker.widget.prototype=new gj.widget,gj.datepicker.widget.constructor=gj.datepicker.widget,function(a){a.fn.datepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new gj.datepicker.widget(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new gj.datepicker.widget(this,a)}}}(jQuery);