gj.dialog={plugins:{},messages:{}},gj.dialog.config={base:{autoOpen:!0,closeButtonInHeader:!0,closeOnEscape:!0,draggable:!0,height:"auto",locale:"en-us",maxHeight:void 0,maxWidth:void 0,minHeight:void 0,minWidth:void 0,modal:!1,resizable:!1,scrollable:!1,title:void 0,uiLibrary:void 0,width:300,style:{modal:"gj-modal",content:"gj-dialog-md",header:"gj-dialog-md-header gj-unselectable",headerTitle:"gj-dialog-md-title",headerCloseButton:"gj-dialog-md-close",body:"gj-dialog-md-body",footer:"gj-dialog-footer gj-dialog-md-footer"}},bootstrap:{style:{modal:"modal",content:"modal-content gj-dialog-bootstrap",header:"modal-header",headerTitle:"modal-title",headerCloseButton:"close",body:"modal-body",footer:"gj-dialog-footer modal-footer"}},bootstrap4:{style:{modal:"modal",content:"modal-content gj-dialog-bootstrap4",header:"modal-header",headerTitle:"modal-title",headerCloseButton:"close",body:"modal-body",footer:"gj-dialog-footer modal-footer"}}},gj.dialog.events={initialized:function(a){a.trigger("initialized")},opening:function(a){a.trigger("opening")},opened:function(a){a.trigger("opened")},closing:function(a){a.trigger("closing")},closed:function(a){a.trigger("closed")},drag:function(a){a.trigger("drag")},dragStart:function(a){a.trigger("dragStart")},dragStop:function(a){a.trigger("dragStop")},resize:function(a){a.trigger("resize")},resizeStart:function(a){a.trigger("resizeStart")},resizeStop:function(a){a.trigger("resizeStop")}},gj.dialog.methods={init:function(a){return gj.widget.prototype.initJS.call(this,a,"dialog"),gj.dialog.methods.localization(this),gj.dialog.methods.initialize(this),gj.dialog.events.initialized(this),this},localization:function(a){var b=gijgoStorage.get(a.element,"gijgo");void 0===b.title&&(b.title=gj.dialog.messages[b.locale].DefaultTitle)},getHTMLConfig:function(){var a=gj.widget.prototype.getHTMLConfig.call(this),b=this.attributes;return b.title&&(a.title=b.title.value),a},initialize:function(a){var b,c,d,e;b=gijgoStorage.get(a.element,"gijgo"),gj.core.addClass(a.element,b.style.content),gj.dialog.methods.setSize(a.element,b),b.closeOnEscape&&document.addEventListener("keyup",function(b){27===b.keyCode&&a.close()}),d=a.element.querySelector('div[data-role="body"]'),d||(d=document.createElement("div"),d.setAttribute("role","body"),a.element.addChild(d)),gj.core.addClasses(d,b.style.body),c=gj.dialog.methods.renderHeader(a,b),e=a.element.querySelector('div[data-role="footer"]'),e&&gj.core.addClasses(e,b.style.footer),a.querySelector('[data-role="close"]').addEventListener("click",function(){a.close()}),gj.draggable&&(b.draggable&&gj.dialog.methods.draggable(a,c),b.resizable&&gj.dialog.methods.resizable(a)),b.scrollable&&b.height&&(a.element.classList.add("gj-dialog-scrollable"),a.element.addEventListener("opened",function(){a.element.querySelector('div[data-role="body"]').style.height=b.height-$header.outerHeight()-($footer.length?$footer.outerHeight():0)+"px"})),gj.core.center(a.element),b.modal&&$dialog.wrapAll('<div data-role="modal" class="'+b.style.modal+'"/>'),b.autoOpen&&$dialog.open()},setSize:function(a,b){b.width&&(a.element.width=b.width+"px"),b.height&&(a.element.height=b.height+"px")},renderHeader:function(a,b){var c,d,e;return c=a.element.querySelector('div[data-role="header"]'),c||(c=document.createElement("div"),c.setAttribute("role","header"),a.element.parentElement.insertBefore(c,a.element)),gj.core.addClasses(c,b.style.header),d=c.querySelector('[data-role="title"]'),d||(d=document.createElement("h4"),d.setAttribute("role","title"),d.innerHTML=b.title,c.appendChild(d)),gj.core.addClasses(d,b.style.headerTitle),e=c.querySelector('[data-role="close"]'),!e&&b.closeButtonInHeader?(e=document.createElement("button"),$closeButton=$('<button type="button" data-role="close" title="'+gj.dialog.messages[b.locale].Close+'"><span>×</span></button>'),$closeButton.addClass(b.style.headerCloseButton),$header.append($closeButton)):e&&!1===b.closeButtonInHeader?e.style.display="node":e.classList.add(b.style.headerCloseButton),$header},draggable:function(a,b){a.appendTo("body"),b.addClass("gj-draggable"),a.draggable({handle:b,start:function(){a.addClass("gj-unselectable"),gj.dialog.events.dragStart(a)},stop:function(){a.removeClass("gj-unselectable"),gj.dialog.events.dragStop(a)}})},resizable:function(a){var b={drag:gj.dialog.methods.resize,start:function(){a.addClass("gj-unselectable"),gj.dialog.events.resizeStart(a)},stop:function(){this.removeAttribute("style"),a.removeClass("gj-unselectable"),gj.dialog.events.resizeStop(a)}};a.append($('<div class="gj-resizable-handle gj-resizable-n"></div>').draggable($.extend(!0,{horizontal:!1},b))),a.append($('<div class="gj-resizable-handle gj-resizable-e"></div>').draggable($.extend(!0,{vertical:!1},b))),a.append($('<div class="gj-resizable-handle gj-resizable-s"></div>').draggable($.extend(!0,{horizontal:!1},b))),a.append($('<div class="gj-resizable-handle gj-resizable-w"></div>').draggable($.extend(!0,{vertical:!1},b))),a.append($('<div class="gj-resizable-handle gj-resizable-ne"></div>').draggable($.extend(!0,{},b))),a.append($('<div class="gj-resizable-handle gj-resizable-nw"></div>').draggable($.extend(!0,{},b))),a.append($('<div class="gj-resizable-handle gj-resizable-sw"></div>').draggable($.extend(!0,{},b))),a.append($('<div class="gj-resizable-handle gj-resizable-se"></div>').draggable($.extend(!0,{},b)))},resize:function(a,b){var c,d,e,f,g,h,i,j,k=!1;return c=$(this),d=c.parent(),e=gj.core.position(this),offset={top:b.top-e.top,left:b.left-e.left},f=d.data(),c.hasClass("gj-resizable-n")?(g=d.height()-offset.top,i=d.offset().top+offset.top):c.hasClass("gj-resizable-e")?h=d.width()+offset.left:c.hasClass("gj-resizable-s")?g=d.height()+offset.top:c.hasClass("gj-resizable-w")?(h=d.width()-offset.left,j=d.offset().left+offset.left):c.hasClass("gj-resizable-ne")?(g=d.height()-offset.top,i=d.offset().top+offset.top,h=d.width()+offset.left):c.hasClass("gj-resizable-nw")?(g=d.height()-offset.top,i=d.offset().top+offset.top,h=d.width()-offset.left,j=d.offset().left+offset.left):c.hasClass("gj-resizable-se")?(g=d.height()+offset.top,h=d.width()+offset.left):c.hasClass("gj-resizable-sw")&&(g=d.height()+offset.top,h=d.width()-offset.left,j=d.offset().left+offset.left),g&&(!f.minHeight||g>=f.minHeight)&&(!f.maxHeight||g<=f.maxHeight)&&(d.height(g),i&&d.css("top",i),k=!0),h&&(!f.minWidth||h>=f.minWidth)&&(!f.maxWidth||h<=f.maxWidth)&&(d.width(h),j&&d.css("left",j),k=!0),k&&gj.dialog.events.resize(d),k},open:function(a,b){var c;return gj.dialog.events.opening(a),a.css("display","block"),a.closest('div[data-role="modal"]').css("display","block"),c=a.children('div[data-role="footer"]'),c.length&&c.outerHeight()&&a.children('div[data-role="body"]').css("margin-bottom",c.outerHeight()),void 0!==b&&a.find('[data-role="title"]').html(b),gj.dialog.events.opened(a),a},close:function(a){return a.is(":visible")&&(gj.dialog.events.closing(a),a.css("display","none"),a.closest('div[data-role="modal"]').css("display","none"),gj.dialog.events.closed(a)),a},isOpen:function(a){return a.is(":visible")},content:function(a,b){var c=a.children('div[data-role="body"]');return void 0===b?c.html():c.html(b)},destroy:function(a,b){var c=a.data();return c&&(!1===b?a.remove():(a.close(),a.off(),a.removeData(),a.removeAttr("data-type"),a.removeClass(c.style.content),a.find('[data-role="header"]').removeClass(c.style.header),a.find('[data-role="title"]').removeClass(c.style.headerTitle),a.find('[data-role="close"]').remove(),a.find('[data-role="body"]').removeClass(c.style.body),a.find('[data-role="footer"]').removeClass(c.style.footer))),a}},GijgoDialog=function(a,b){var c=this,d=gj.datepicker.methods;return c.element=a,c.open=function(a){return d.open(this,a)},c.close=function(){return d.close(this)},c.isOpen=function(){return d.isOpen(this)},c.content=function(a){return d.content(this,a)},c.destroy=function(a){return d.destroy(this,a)},"dialog"!==a.getAttribute("data-type")&&d.init.call(c,b),c},GijgoDialog.prototype=new gj.widget,GijgoDialog.constructor=gj.dialog.widget,GijgoDialog.prototype.getHTMLConfig=gj.dialog.methods.getHTMLConfig,"undefined"!=typeof jQuery&&function(a){a.fn.dialog=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new GijgoDialog(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new GijgoDialog(this,a)}}}(jQuery),gj.dialog.messages["en-us"]={Close:"Close",DefaultTitle:"Dialog"},gj.dialog.messages["bg-bg"]={Close:"Затваряне",DefaultTitle:"Диалогов Прозорец"},gj.dialog.messages["fr-fr"]={Close:"Fermer",DefaultTitle:"Dialogue"},gj.dialog.messages["de-de"]={Close:"Schließen",DefaultTitle:"Dialog"},gj.dialog.messages["pt-br"]={Close:"Fechar",DefaultTitle:"Caixa de diálogo"},gj.dialog.messages["ru-ru"]={Close:"Закрыть",DefaultTitle:"Сообщение"},gj.dialog.messages["es-es"]={Close:"Cerrar",DefaultTitle:"Titulo por defecto"},gj.dialog.messages["it-it"]={Close:"Chiudi",DefaultTitle:"Dialogo"},gj.dialog.messages["tr-tr"]={Close:"Kapat",DefaultTitle:"Diyalog"},gj.dialog.messages["ja-jp"]={Close:"閉じる",DefaultTitle:"ダイアログ"},gj.dialog.messages["zh-cn"]={Close:"关闭",DefaultTitle:"对话框"},gj.dialog.messages["zh-tw"]={Close:"關閉",DefaultTitle:"對話框"};