gj.droppable={plugins:{}},gj.droppable.config={hoverClass:void 0},gj.droppable.methods={init:function(e){return gj.widget.prototype.init.call(this,e),this.element.setAttribute("data-gj-droppable","true"),gj.documentManager.subscribeForEvent("mousedown","droppable"+this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseDownHandler(this)),gj.documentManager.subscribeForEvent("mousemove","droppable"+this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseMoveHandler(this)),gj.documentManager.subscribeForEvent("mouseup","droppable"+this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseUpHandler(this)),this},createMouseDownHandler:function(t){return function(e){t.isDragging=!0}},createMouseMoveHandler:function(o){return function(e){var t,r;o.isDragging&&(t=o.getConfig().hoverClass,e={x:o.mouseX(e),y:o.mouseY(e)},(r=gj.droppable.methods.isOver(o,e))!=o.isOver&&(r?(t&&o.element.classList.add(t),gj.droppable.events.over(o.element,e)):(t&&o.element.classList.remove(t),gj.droppable.events.out(o.element))),o.isOver=r)}},createMouseUpHandler:function(t){return function(e){e={x:t.mouseX(e),y:t.mouseY(e)};t.isDragging=!1,gj.droppable.methods.isOver(t,e)&&gj.droppable.events.drop(t.element)}},isOver:function(e,t){e=gj.core.position(e.element);return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom},destroy:function(e){var t=e.element;return"true"===t.getAttribute("data-gj-droppable")&&(gj.documentManager.unsubscribeForEvent("mousedown","droppable"+t.getAttribute("data-gj-guid")),gj.documentManager.unsubscribeForEvent("mousemove","droppable"+t.getAttribute("data-gj-guid")),gj.documentManager.unsubscribeForEvent("mouseup","droppable"+t.getAttribute("data-gj-guid")),e.removeConfig(),t.removeAttribute("data-gj-guid"),t.removeAttribute("data-gj-droppable")),e}},gj.droppable.events={drop:function(e,t,r){return e.dispatchEvent(new CustomEvent("drop",{detail:{top:r,left:t}}))},over:function(e,t){return e.dispatchEvent(new CustomEvent("over",{detail:{mousePosition:t}}))},out:function(e){return e.dispatchEvent(new Event("out"))}},(GijgoDroppable=function(e,t){let r=this,o=gj.droppable.methods;return r.type="droppable",r.element=e,r.isOver=!1,r.isDragging=!1,r.destroy=function(){return o.destroy(this)},r.isOver=function(e){return o.isOver(this,e)},"true"!==e.getAttribute("data-gj-droppable")&&o.init.call(r,t),r}).prototype=new gj.widget,GijgoDroppable.constructor=GijgoDroppable,"undefined"!=typeof jQuery&&(jQuery.fn.droppable=function(e){var t;if(this&&this.length){if("object"!=typeof e&&e){if((t=new GijgoDroppable(this,null))[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+e+" does not exist."}return new GijgoDroppable(this,e)}});