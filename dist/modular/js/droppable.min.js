gj.droppable={plugins:{}},gj.droppable.config={hoverClass:void 0},gj.droppable.methods={init:function(e){return this.type="droppable",gj.widget.prototype.init.call(this,e),this.element.setAttribute("data-gj-droppable","true"),gj.documentManager.subscribeForEvent("mousedown",this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseDownHandler(this)),gj.documentManager.subscribeForEvent("mousemove",this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseMoveHandler(this)),gj.documentManager.subscribeForEvent("mouseup",this.element.getAttribute("data-gj-guid"),gj.droppable.methods.createMouseUpHandler(this)),this},createMouseDownHandler:function(t){return function(e){t.isDragging=!0}},createMouseMoveHandler:function(r){return function(e){var t,o;r.isDragging&&(t=r.getConfig().hoverClass,e={left:r.mouseX(e),top:r.mouseY(e)},(o=gj.droppable.methods.isOver(r,e))!=r.isOver&&(o?(t&&r.element.classList.add(t),gj.droppable.events.over(r.element,e)):(t&&r.element.classList.remove(t),gj.droppable.events.out(r.element))),r.isOver=o)}},createMouseUpHandler:function(t){return function(e){e={left:t.mouseX(e),top:t.mouseY(e)};t.isDragging=!1,console.log(gj.droppable.methods.isOver(t,e)),gj.droppable.methods.isOver(t,e)&&gj.droppable.events.drop(t.element)}},isOver:function(e,t){var o=e.element.offsetTop,r=e.element.offsetLeft;return t.left>r&&t.left<r+gj.core.width(e.element)&&t.top>o&&t.top<o+gj.core.height(e.element)},destroy:function(e){var t=e.element;return"true"===t.getAttribute("data-gj-droppable")&&(gj.documentManager.unsubscribeForEvent("mousedown",t.getAttribute("data-gj-guid")),gj.documentManager.unsubscribeForEvent("mousemove",t.getAttribute("data-gj-guid")),gj.documentManager.unsubscribeForEvent("mouseup",t.getAttribute("data-gj-guid")),e.removeConfig(),t.removeAttribute("data-gj-guid"),t.removeAttribute("data-gj-droppable")),e}},gj.droppable.events={drop:function(e,t,o){return e.dispatchEvent(new CustomEvent("drop",{detail:{top:o,left:t}}))},over:function(e,t){return e.dispatchEvent(new CustomEvent("over",{detail:{mousePosition:t}}))},out:function(e){return e.dispatchEvent(new Event("out"))}},(GijgoDroppable=function(e,t){let o=this,r=gj.droppable.methods;return o.element=e,o.isOver=!1,o.isDragging=!1,o.destroy=function(){return r.destroy(this)},o.isOver=function(e){return r.isOver(this,e)},"true"!==e.getAttribute("data-gj-droppable")&&r.init.call(o,t),o}).prototype=new gj.widget,GijgoDroppable.constructor=GijgoDroppable,"undefined"!=typeof jQuery&&(jQuery.fn.droppable=function(e){var t;if(this&&this.length){if("object"!=typeof e&&e){if((t=new GijgoDroppable(this,null))[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+e+" does not exist."}return new GijgoDroppable(this,e)}});