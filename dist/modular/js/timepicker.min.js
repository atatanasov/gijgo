gj.timepicker={plugins:{}},gj.timepicker.config={base:{width:void 0,modal:!0,header:!0,footer:!0,format:"HH:MM",uiLibrary:"materialdesign",value:void 0,mode:"24hr",locale:"en-us",size:"default",showOnFocus:!0,showRightIcon:!0,icons:{rightIcon:'<i class="gj-icon clock" />'},style:{modal:"gj-modal",wrapper:"gj-timepicker gj-timepicker-md gj-unselectable",input:"gj-textbox-md",clock:"gj-picker gj-picker-md timepicker",footer:"",button:"gj-button-md"}},bootstrap:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",clock:"gj-picker gj-picker-bootstrap timepicker",footer:"modal-footer",button:"btn btn-default"},iconsLibrary:"glyphicons"},bootstrap4:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control border",clock:"gj-picker gj-picker-bootstrap timepicker",footer:"modal-footer",button:"btn btn-default"}}},gj.timepicker.methods={init:function(a){return gj.picker.widget.prototype.init.call(this,a,"timepicker"),this},initialize:function(){},initMouse:function(a,b,c,d){a.addEventListener("mousedown",gj.timepicker.methods.mouseDownHandler(c)),a.addEventListener("mousemove",gj.timepicker.methods.mouseMoveHandler(b,c)),a.addEventListener("mouseup",gj.timepicker.methods.mouseUpHandler(b,c))},createPopup:function(a){var b,c,d,e,f=gijgoStorage.get(a.element,"gijgo"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("span"),j=document.createElement("div"),k=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),n=document.createElement("button"),o=document.createElement("button"),p=document.createElement("div");return gj.core.addClasses(g,f.style.clock),g.setAttribute("role","picker"),g.setAttribute("guid",a.element.getAttribute("data-guid")),h.setAttribute("role","hour"),j.setAttribute("role","minute"),k.setAttribute("role","header"),l.setAttribute("role","mode"),m.setAttribute("role","body"),gj.core.addClasses(n,f.style.button),n.innerText=gj.core.messages[f.locale].ok,gj.core.addClasses(o,f.style.button),o.innerText=gj.core.messages[f.locale].cancel,p.setAttribute("role","footer"),gj.core.addClasses(p,f.style.footer),b=gj.core.parseDate(f.value,f.format,f.locale),!b||isNaN(b.getTime())?b=new Date:a.element.setAttribute("hours",b.getHours()),f.header&&(h.addEventListener("click",function(){gj.timepicker.methods.renderHours(a.element,g,f)}),j.addEventListener("click",function(){gj.timepicker.methods.renderMinutes(a.element,g,f)}),k.appendChild(h),i.innerText=":",k.appendChild(i),k.appendChild(j),"ampm"===f.mode&&(c=document.createElement("span"),c.setAttribute("role","am"),c.innerText=gj.core.messages[f.locale].am,l.appendChild(c),c.addEventListener("click",function(){var b=gj.timepicker.methods.getHour(g);g.setAttribute("mode","am"),this.classList.add("selected"),this.parentElement.querySelector('[role="pm"]').classList.remove("selected"),b>=12&&g.setAttribute("hour",b-12),f.modal||(clearTimeout(a.timeout),a.element.focus())}),l.appendChild(document.createElement("br")),d=document.createElement("span"),d.setAttribute("role","pm"),d.innerText=gj.core.messages[f.locale].pm,l.appendChild(d),d.addEventListener("click",function(){var b=gj.timepicker.methods.getHour(g);g.setAttribute("mode","pm"),this.classList.add("selected"),this.parentElement.querySelector('[role="am"]').classList.remove("selected"),b<12&&g.setAttribute("hour",b+12),f.modal||(clearTimeout(a.timeout),a.element.focus())}),k.appendChild(l)),g.appendChild(k)),g.appendChild(m),f.footer&&(o.addEventListener("click",function(){a.close()}),p.appendChild(o),n.addEventListener("click",gj.timepicker.methods.setTime(a,g)),p.appendChild(n),g.appendChild(p)),g.style.display="none",document.body.appendChild(g),f.modal&&(e=document.createElement("div"),e.setAttribute("role","modal"),gj.core.addClasses(e,f.style.modal),g.parentNode.insertBefore(e,g),e.appendChild(g),gj.core.center(g)),gj.timepicker.methods.initMouse(m,a,g,f),g},getHour:function(a){return parseInt(a.getAttribute("hour"),10)||0},getMinute:function(a){return parseInt(a.getAttribute("minute"),10)||0},setTime:function(a,b){return function(){var c=gj.timepicker.methods.getHour(b),d=gj.timepicker.methods.getMinute(b),e=b.getAttribute("mode"),f=new Date(0,0,0,12===c&&"am"===e?0:c,d),g=gijgoStorage.get(a.element,"gijgo"),h=gj.core.formatDate(f,g.format,g.locale);a.value(h),a.close()}},getPointerValue:function(a,b,c){var d,e,f=256,g=Math.atan2(f/2-a,f/2-b)/Math.PI*180;switch(g<0&&(g=360+g),c){case"ampm":return d=12-Math.round(12*g/360),0===d?12:d;case"24hr":return e=Math.sqrt(Math.pow(f/2-a,2)+Math.pow(f/2-b,2)),d=12-Math.round(12*g/360),0===d&&(d=12),e<f/2-32&&(d=12===d?0:d+12),d;case"minutes":return d=Math.round(60-60*g/360),60===d?0:d}},updateArrow:function(a,b,c,d){var e,f,g=b.mouseX(a),h=b.mouseY(a),i=window.scrollY||window.pageYOffset||0,j=window.scrollX||window.pageXOffset||0;e=a.target.getBoundingClientRect(),"hours"==d.dialMode?(f=gj.timepicker.methods.getPointerValue(g-j-e.left,h-i-e.top,d.mode),c.setAttribute("hour","ampm"===d.mode&&"pm"===c.getAttribute("mode")&&f<12?f+12:f)):"minutes"==d.dialMode&&(f=gj.timepicker.methods.getPointerValue(g-j-e.left,h-i-e.top,"minutes"),c.setAttribute("minute",f)),gj.timepicker.methods.update(b,c,d)},update:function(a,b,c){var d,e,f,g,h,i,j,k;for(d=gj.timepicker.methods.getHour(b),e=gj.timepicker.methods.getMinute(b),f=b.querySelector('[role="arrow"]'),"hours"==c.dialMode&&(0==d||d>12)&&"24hr"===c.mode?f.style.width="calc(50% - 52px)":f.style.width="calc(50% - 20px)","hours"==c.dialMode?f.style.transform="rotate("+(30*d-90).toString()+"deg)":f.style.transform="rotate("+(6*e-90).toString()+"deg)",f.style.display="block",g="ampm"===c.mode&&d>12?d-12:0==d?12:d,i=b.querySelectorAll('[role="body"] span'),j=0;j<i.length;j++)k=parseInt(i[j].innerText,10),"hours"===c.dialMode&&k===g?i[j].classList.add("selected"):"minutes"===c.dialMode&&k===e?i[j].classList.add("selected"):i[j].classList.remove("selected");c.header&&(h=b.querySelector('[role="header"]'),h.querySelector('[role="hour"]').innerText=g,h.querySelector('[role="minute"]').innerText=gj.core.pad(e),"ampm"===c.mode&&(d>=12?(h.querySelector('[role="pm"]').classList.add("selected"),h.querySelector('[role="am"]').classList.remove("selected")):(h.querySelector('[role="am"]').classList.add("selected"),h.querySelector('[role="pm"]').classList.remove("selected"))))},mouseDownHandler:function(a){return function(b){a.mouseMove=!0}},mouseMoveHandler:function(a,b){return function(c){var d=gijgoStorage.get(a.element,"gijgo");a.mouseMove&&gj.timepicker.methods.updateArrow(c,a,b,d)}},mouseUpHandler:function(a,b){return function(c){var d=gijgoStorage.get(a.element,"gijgo");gj.timepicker.methods.updateArrow(c,a,b,d),a.mouseMove=!1,d.modal||(clearTimeout(a.timeout),a.element.focus()),"hours"===d.dialMode?setTimeout(function(){gj.timepicker.events.select(a.element,"hour"),gj.timepicker.methods.renderMinutes(a,b,d)},1e3):"minutes"===d.dialMode&&(!0!==d.footer&&!1!==d.autoClose&&gj.timepicker.methods.setTime(a,b)(),gj.timepicker.events.select(a.element,"minute"))}},renderHours:function(a,b,c){var d,e,f=b.querySelector('[role="body"]');clearTimeout(a.timeout),f.innerHTML="",d=document.createElement("div"),d.setAttribute("role","dial"),e=gj.core.createElement('<div role="arrow" style="display: none; transform: rotate(-90deg);" />'),e.appendChild(gj.core.createElement('<div class="arrow-begin"></div>')),e.appendChild(gj.core.createElement('<div class="arrow-end"></div>')),d.appendChild(e),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(54px, -93.5307px)">1</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(93.5307px, -54px)">2</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(108px, 0px)">3</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(93.5307px, 54px)">4</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(54px, 93.5307px)">5</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(6.61309e-15px, 108px)">6</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-54px, 93.5307px)">7</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-93.5307px, 54px)">8</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-108px, 1.32262e-14px)">9</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-93.5307px, -54px)">10</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-54px, -93.5307px)">11</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-1.98393e-14px, -108px)">12</span>')),"24hr"===c.mode&&(d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(38px, -65.8179px)">13</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(65.8179px, -38px)">14</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(76px, 0px)">15</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(65.8179px, 38px)">16</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(38px, 65.8179px)">17</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(4.65366e-15px, 76px)">18</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-38px, 65.8179px)">19</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-65.8179px, 38px)">20</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-76px, 9.30732e-15px)">21</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-65.8179px, -38px)">22</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-38px, -65.8179px)">23</span>')),d.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-1.3961e-14px, -76px)">00</span>'))),f.appendChild(d),c.header&&(b.querySelector('[role="header"] [role="hour"]').classList.add("selected"),b.querySelector('[role="header"] [role="minute"]').classList.remove("selected")),c.dialMode="hours",gj.timepicker.methods.update(a,b,c)},renderMinutes:function(a,b,c){var d,e=b.querySelector('[role="body"]');clearTimeout(a.timeout),e.innerHTML="",dial=document.createElement("div"),dial.setAttribute("role","dial"),d=document.createElement("div"),d.setAttribute("role","arrow"),d.style.display="none",d.style.transform="rotate(-90deg)",d.appendChild(gj.core.createElement('<div class="arrow-begin"></div>')),d.appendChild(gj.core.createElement('<div class="arrow-end"></div>')),dial.appendChild(d),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(54px, -93.5307px)">5</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(93.5307px, -54px)">10</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(108px, 0px)">15</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(93.5307px, 54px)">20</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(54px, 93.5307px)">25</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(6.61309e-15px, 108px)">30</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-54px, 93.5307px)">35</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-93.5307px, 54px)">40</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-108px, 1.32262e-14px)">45</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-93.5307px, -54px)">50</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-54px, -93.5307px)">55</span>')),dial.appendChild(gj.core.createElement('<span role="hour" style="transform: translate(-1.98393e-14px, -108px)">00</span>')),e.appendChild(dial),c.header&&(b.querySelector('[role="header"] [role="hour"]').classList.remove("selected"),b.querySelector('[role="header"] [role="minute"]').classList.add("selected")),c.dialMode="minutes",gj.timepicker.methods.update(a,b,c)},open:function(a){var b,c,d=gijgoStorage.get(a.element,"gijgo"),e=document.body.querySelector('[role="picker"][guid="'+a.element.getAttribute("data-guid")+'"]');return b=a.value()?gj.core.parseDate(a.value(),d.format,d.locale):new Date,c=b.getHours(),"ampm"===d.mode&&e.setAttribute("mode",c>12?"pm":"am"),e.setAttribute("hour",c),e.setAttribute("minute",b.getMinutes()),gj.timepicker.methods.renderHours(a,e,d),gj.picker.widget.prototype.open.call(a,"timepicker"),a},value:function(a,b){gijgoStorage.get(a.element,"gijgo");return void 0===b?a.element.value:(a.element.value=b,gj.timepicker.events.change(a.element),a)}},gj.timepicker.events={change:function(a){return a.dispatchEvent(new Event("change"))},select:function(a,b){return a.dispatchEvent(new CustomEvent("select",{type:b}))},open:function(a){return a.dispatchEvent(new Event("open"))},close:function(a){return a.dispatchEvent(new Event("close"))}},GijgoTimePicker=function(a,b){var c=this,d=gj.timepicker.methods;return c.element=a,c.mouseMove=!1,c.value=function(a){return d.value(this,a)},c.destroy=function(){return gj.picker.widget.prototype.destroy.call(this,"timepicker")},c.open=function(){return gj.timepicker.methods.open(this)},c.close=function(){return gj.picker.widget.prototype.close.call(this,"timepicker")},"true"!==a.getAttribute("data-timepicker")&&d.init.call(c,b),c},GijgoTimePicker.prototype=new gj.picker.widget,GijgoTimePicker.constructor=GijgoTimePicker,"undefined"!=typeof jQuery&&function(a){a.fn.timepicker=function(a){var b;if(this&&this.length){if("object"!=typeof a&&a){if(b=new GijgoTimePicker(this[0],null),b[a])return b[a].apply(this[0],Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return new GijgoTimePicker(this[0],a)}}}(jQuery);