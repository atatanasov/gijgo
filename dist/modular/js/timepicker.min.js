gj.timepicker={plugins:{}},gj.timepicker.config={base:{width:void 0,modal:!0,header:!0,footer:!0,format:"HH:MM",uiLibrary:"materialdesign",value:void 0,mode:"24hr",locale:"en-us",size:"default",showOnFocus:!0,showRightIcon:!0,icons:{rightIcon:'<i class="gj-icon clock" />'},style:{modal:"gj-modal",wrapper:"gj-timepicker gj-timepicker-md gj-unselectable",input:"gj-textbox-md",clock:"gj-picker gj-picker-md timepicker",footer:"",button:"gj-button-md"}},bootstrap:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control",clock:"gj-picker gj-picker-bootstrap timepicker",footer:"modal-footer",button:"btn btn-default"},iconsLibrary:"glyphicons"},bootstrap4:{style:{wrapper:"gj-timepicker gj-timepicker-bootstrap gj-unselectable input-group",input:"form-control border",clock:"gj-picker gj-picker-bootstrap timepicker",footer:"modal-footer",button:"btn btn-default"}}},gj.timepicker.methods={init:function(e){return gj.picker.widget.prototype.init.call(this,e),this},initialize:function(){},initMouse:function(e,t,r){var a=t.querySelector('[data-gj-role="body"]');a.addEventListener("mousedown",gj.timepicker.methods.mouseDownHandler(t)),a.addEventListener("mousemove",gj.timepicker.methods.mouseMoveHandler(e,t,r)),a.addEventListener("mouseup",gj.timepicker.methods.mouseUpHandler(e,t,r))},createPopup:function(t){var e,r=t.getConfig(),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("span"),s=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),p=document.createElement("button"),c=document.createElement("button"),m=document.createElement("div");return gj.core.addClasses(a,r.style.clock),a.setAttribute("role","picker"),a.setAttribute("data-gj-guid",t.element.getAttribute("data-gj-guid")),n.setAttribute("role","hour"),s.setAttribute("role","minute"),l.setAttribute("role","header"),i.setAttribute("role","mode"),d.setAttribute("role","body"),gj.core.addClasses(p,r.style.button),p.innerText=gj.core.messages[r.locale].ok,gj.core.addClasses(c,r.style.button),c.innerText=gj.core.messages[r.locale].cancel,m.setAttribute("role","footer"),gj.core.addClasses(m,r.style.footer),!(e=gj.core.parseDate(r.value,r.format,r.locale))||isNaN(e.getTime())?e=new Date:t.element.setAttribute("hours",e.getHours()),r.header&&(n.addEventListener("click",function(){gj.timepicker.methods.renderHours(t.element,a,r)}),s.addEventListener("click",function(){gj.timepicker.methods.renderMinutes(t.element,a,r)}),l.appendChild(n),o.innerText=":",l.appendChild(o),l.appendChild(s),"ampm"===r.mode&&((e=document.createElement("span")).setAttribute("role","am"),e.innerText=gj.core.messages[r.locale].am,i.appendChild(e),e.addEventListener("click",function(){var e=gj.timepicker.methods.getHour(a);a.setAttribute("mode","am"),this.classList.add("selected"),this.parentElement.querySelector('[data-gj-role="pm"]').classList.remove("selected"),12<=e&&a.setAttribute("hour",e-12),r.modal||(clearTimeout(t.timeout),t.element.focus())}),i.appendChild(document.createElement("br")),(n=document.createElement("span")).setAttribute("role","pm"),n.innerText=gj.core.messages[r.locale].pm,i.appendChild(n),n.addEventListener("click",function(){var e=gj.timepicker.methods.getHour(a);a.setAttribute("mode","pm"),this.classList.add("selected"),this.parentElement.querySelector('[data-gj-role="am"]').classList.remove("selected"),e<12&&a.setAttribute("hour",e+12),r.modal||(clearTimeout(t.timeout),t.element.focus())}),l.appendChild(i)),a.appendChild(l)),a.appendChild(d),r.footer&&(c.addEventListener("click",function(){t.close()}),m.appendChild(c),p.addEventListener("click",gj.timepicker.methods.setTime(t,a)),m.appendChild(p),a.appendChild(m)),a.style.display="none",document.body.appendChild(a),r.modal&&((o=document.createElement("div")).setAttribute("role","modal"),gj.core.addClasses(o,r.style.modal),a.parentNode.insertBefore(o,a),o.appendChild(a),gj.core.center(a)),gj.timepicker.methods.initMouse(t,a,r),a},getHour:function(e){return parseInt(e.getAttribute("hour"),10)||0},getMinute:function(e){return parseInt(e.getAttribute("minute"),10)||0},getMode:function(e){return e.getAttribute("mode")},setTime:function(a,n){return function(){var e=gj.timepicker.methods.getHour(n),t=gj.timepicker.methods.getMinute(n),r=gj.timepicker.methods.getMode(n),r=new Date(0,0,0,12===e&&"am"===r?0:e,t),e=a.getConfig(),t=gj.core.formatDate(r,e.format,e.locale);a.value(t),a.close()}},getPointerValue:function(e,t,r){var a,n,o=Math.atan2(128-e,128-t)/Math.PI*180;switch(o<0&&(o=360+o),r){case"ampm":return 0===(a=12-Math.round(12*o/360))?12:a;case"24hr":return n=Math.sqrt(Math.pow(128-e,2)+Math.pow(128-t,2)),0===(a=12-Math.round(12*o/360))&&(a=12),a=n<96?12===a?0:a+12:a;case"minutes":return 60===(a=Math.round(60-60*o/360))?0:a;default:throw"missing timepicker mode."}},updateArrow:function(e,t,r,a){var n,o=t.mouseX(e),s=t.mouseY(e),l=window.scrollY||window.pageYOffset||0,i=window.scrollX||window.pageXOffset||0,e=e.target.getBoundingClientRect(),d=r.getAttribute("type");"hours"===d?(n=gj.timepicker.methods.getPointerValue(o-i-e.left,s-l-e.top,a.mode),r.setAttribute("hour","ampm"===a.mode&&"pm"===r.getAttribute("mode")&&n<12?n+12:n)):"minutes"===d&&(n=gj.timepicker.methods.getPointerValue(o-i-e.left,s-l-e.top,"minutes"),r.setAttribute("minute",n)),gj.timepicker.methods.update(t,r,a)},update:function(e,t,r){var a,n,o,s,l=gj.timepicker.methods.getHour(t),i=gj.timepicker.methods.getMinute(t),d=gj.timepicker.methods.getMode(t),p=t.querySelector('[data-gj-role="arrow"]'),c=t.getAttribute("type");for("hours"===c&&(0==l||12<l)&&"24hr"===r.mode?p.style.width="calc(50% - 52px)":p.style.width="calc(50% - 20px)",p.style.transform="hours"===c?"rotate("+(30*l-90).toString()+"deg)":"rotate("+(6*i-90).toString()+"deg)",p.style.display="block",a="ampm"===r.mode&&12<l?l-12:0==l?12:l,n=t.querySelectorAll('[data-gj-role="body"] span'),o=0;o<n.length;o++)s=parseInt(n[o].innerText,10),"hours"===c&&s===a||"minutes"===c&&s===i?n[o].classList.add("selected"):n[o].classList.remove("selected");r.header&&((p=t.querySelector('[data-gj-role="header"]')).querySelector('[data-gj-role="hour"]').innerText=a,p.querySelector('[data-gj-role="minute"]').innerText=gj.core.pad(i),"ampm"===r.mode)&&("pm"==d?(p.querySelector('[data-gj-role="pm"]').classList.add("selected"),p.querySelector('[data-gj-role="am"]')):(p.querySelector('[data-gj-role="am"]').classList.add("selected"),p.querySelector('[data-gj-role="pm"]'))).classList.remove("selected")},mouseDownHandler:function(t){return function(e){t.mouseMove=!0}},mouseMoveHandler:function(t,r,a){return function(e){t.mouseMove&&gj.timepicker.methods.updateArrow(e,t,r,a)}},mouseUpHandler:function(r,a,n){return function(e){var t=a.getAttribute("type");"hours"!==t&&"minutes"!==t||(gj.timepicker.methods.updateArrow(e,r,a,n),r.mouseMove=!1,n.modal||(clearTimeout(r.timeout),r.element.focus()),"hours"===t?setTimeout(function(){gj.timepicker.events.select(r.element,"hour"),gj.timepicker.methods.renderMinutes(r,a,n)},1e3):"minutes"===t&&(!0!==n.footer&&!1!==n.autoClose&&gj.timepicker.methods.setTime(r,a)(),gj.timepicker.events.select(r.element,"minute")))}},renderHours:function(e,t,r){var a,n,o=t.querySelector('[data-gj-role="body"]');clearTimeout(e.timeout),o.innerHTML="",(a=document.createElement("div")).setAttribute("data-gj-role","dial"),(n=gj.core.createElement('<div data-gj-role="arrow" style="display: none; transform: rotate(-90deg);" />')).appendChild(gj.core.createElement('<div class="arrow-begin"></div>')),n.appendChild(gj.core.createElement('<div class="arrow-end"></div>')),a.appendChild(n),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(54px, -93.5307px)">1</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(93.5307px, -54px)">2</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(108px, 0px)">3</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(93.5307px, 54px)">4</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(54px, 93.5307px)">5</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(6.61309e-15px, 108px)">6</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-54px, 93.5307px)">7</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-93.5307px, 54px)">8</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-108px, 1.32262e-14px)">9</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-93.5307px, -54px)">10</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-54px, -93.5307px)">11</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-1.98393e-14px, -108px)">12</span>')),"24hr"===r.mode&&(a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(38px, -65.8179px)">13</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(65.8179px, -38px)">14</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(76px, 0px)">15</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(65.8179px, 38px)">16</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(38px, 65.8179px)">17</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(4.65366e-15px, 76px)">18</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-38px, 65.8179px)">19</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-65.8179px, 38px)">20</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-76px, 9.30732e-15px)">21</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-65.8179px, -38px)">22</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-38px, -65.8179px)">23</span>')),a.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-1.3961e-14px, -76px)">00</span>'))),o.appendChild(a),r.header&&(t.querySelector('[data-gj-role="header"] [data-gj-role="hour"]').classList.add("selected"),t.querySelector('[data-gj-role="header"] [data-gj-role="minute"]').classList.remove("selected")),t.setAttribute("type","hours"),gj.timepicker.methods.update(e,t,r)},renderMinutes:function(e,t,r){var a,n=t.querySelector('[data-gj-role="body"]');clearTimeout(e.timeout),n.innerHTML="",(dial=document.createElement("div")).setAttribute("data-gj-role","dial"),(a=document.createElement("div")).setAttribute("data-gj-role","arrow"),a.style.display="none",a.style.transform="rotate(-90deg)",a.appendChild(gj.core.createElement('<div class="arrow-begin"></div>')),a.appendChild(gj.core.createElement('<div class="arrow-end"></div>')),dial.appendChild(a),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(54px, -93.5307px)">5</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(93.5307px, -54px)">10</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(108px, 0px)">15</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(93.5307px, 54px)">20</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(54px, 93.5307px)">25</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(6.61309e-15px, 108px)">30</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-54px, 93.5307px)">35</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-93.5307px, 54px)">40</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-108px, 1.32262e-14px)">45</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-93.5307px, -54px)">50</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-54px, -93.5307px)">55</span>')),dial.appendChild(gj.core.createElement('<span data-gj-role="hour" style="transform: translate(-1.98393e-14px, -108px)">00</span>')),n.appendChild(dial),r.header&&(t.querySelector('[data-gj-role="header"] [data-gj-role="hour"]').classList.remove("selected"),t.querySelector('[data-gj-role="header"] [data-gj-role="minute"]').classList.add("selected")),t.setAttribute("type","minutes"),gj.timepicker.methods.update(e,t,r)},setAttributes:function(e,t,r){var a=r.getHours();"ampm"===t.mode&&e.setAttribute("mode",12<=a?"pm":"am"),e.setAttribute("hour",a),e.setAttribute("minute",r.getMinutes())},open:function(e){var t=e.getConfig(),r=document.body.querySelector('[data-gj-role="picker"][data-gj-guid="'+e.element.getAttribute("data-gj-guid")+'"]'),a=e.value()?gj.core.parseDate(e.value(),t.format,t.locale):new Date;return gj.timepicker.methods.setAttributes(r,t,a),gj.timepicker.methods.renderHours(e,r,t),gj.picker.widget.prototype.open.call(e,"timepicker"),e},value:function(e,t){return void 0===t?e.element.value:(e.element.value=t,gj.timepicker.events.change(e.element),e)}},gj.timepicker.events={change:function(e){return e.dispatchEvent(new Event("change"))},select:function(e,t){return e.dispatchEvent(new CustomEvent("select",{detail:{type:t}}))},open:function(e){return e.dispatchEvent(new Event("open"))},close:function(e){return e.dispatchEvent(new Event("close"))}},(GijgoTimePicker=function(e,t){var r=this,a=gj.timepicker.methods;return r.type="timepicker",r.element=e,r.mouseMove=!1,r.value=function(e){return a.value(this,e)},r.destroy=function(){return gj.picker.widget.prototype.destroy.call(this,"timepicker")},r.open=function(){return gj.timepicker.methods.open(this)},r.close=function(){return gj.picker.widget.prototype.close.call(this,"timepicker")},"true"!==e.getAttribute("data-gj-timepicker")&&a.init.call(r,t),r}).prototype=new gj.picker.widget,GijgoTimePicker.constructor=GijgoTimePicker,"undefined"!=typeof jQuery&&(jQuery.fn.timepicker=function(e){var t;if(this&&this.length){if("object"!=typeof e&&e){if((t=new GijgoTimePicker(this[0],null))[e])return t[e].apply(this[0],Array.prototype.slice.call(arguments,1));throw"Method "+e+" does not exist."}return new GijgoTimePicker(this[0],e)}});